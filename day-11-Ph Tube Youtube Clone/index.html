<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>PH Tube - YouTube Clone</title>
  <link href="https://cdn.jsdelivr.net/npm/daisyui@3.9.4/dist/full.css" rel="stylesheet" type="text/css" />
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://accounts.google.com/gsi/client" async defer></script>
  <style>
    body {
      transition: background-color 0.3s, color 0.3s;
    }

    /* Animation keyframes */
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    @keyframes scaleIn {
      from { transform: scale(0.95); opacity: 0; }
      to { transform: scale(1); opacity: 1; }
    }

    @keyframes slideIn {
      from { transform: translateX(-20px); opacity: 0; }
      to { transform: translateX(0); opacity: 1; }
    }

    @keyframes tumble {
      0% { transform: rotate(0deg) translateY(0); }
      25% { transform: rotate(-5deg) translateY(-5px); }
      50% { transform: rotate(0deg) translateY(-10px); }
      75% { transform: rotate(5deg) translateY(-5px); }
      100% { transform: rotate(0deg) translateY(0); }
    }

    @keyframes floatHeader {
      0% { transform: translateY(0); }
      50% { transform: translateY(-5px); }
      100% { transform: translateY(0); }
    }

    @keyframes pulseGlow {
      0% { box-shadow: 0 0 5px rgba(255, 0, 0, 0.5); }
      50% { box-shadow: 0 0 20px rgba(255, 0, 0, 0.8); }
      100% { box-shadow: 0 0 5px rgba(255, 0, 0, 0.5); }
    }

    @keyframes shimmer {
      0% { background-position: -200% 0; }
      100% { background-position: 200% 0; }
    }

    @keyframes bounceIn {
      0% { transform: scale(0.3); opacity: 0; }
      50% { transform: scale(1.05); opacity: 0.8; }
      70% { transform: scale(0.9); opacity: 0.9; }
      100% { transform: scale(1); opacity: 1; }
    }

    /* Animation classes */
    .animate-fade-in {
      animation: fadeIn 0.5s ease-out forwards;
    }

    .animate-scale-in {
      animation: scaleIn 0.3s ease-out forwards;
    }

    .animate-slide-in {
      animation: slideIn 0.3s ease-out forwards;
    }

    /* Video card hover effects */
    .video-card {
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      position: relative;
      overflow: hidden;
    }

    .video-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
    }

    .video-card::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(to bottom, transparent 50%, rgba(0, 0, 0, 0.1));
      opacity: 0;
      transition: opacity 0.3s ease;
    }

    .video-card:hover::after {
      opacity: 1;
    }

    /* Category button animations */
    .btn {
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
    }

    .btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }

    .btn:active {
      transform: translateY(0);
    }

    .btn::after {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 0;
      height: 0;
      background: rgba(255, 255, 255, 0.2);
      border-radius: 50%;
      transform: translate(-50%, -50%);
      transition: width 0.6s ease, height 0.6s ease;
    }

    .btn:hover::after {
      width: 300px;
      height: 300px;
    }

    /* Search bar hover effect */
    .join-item {
      transition: all 0.3s ease;
    }

    .join-item:hover {
      box-shadow: 0 0 0 2px var(--primary);
    }

    /* Profile dropdown hover effects */
    #profile-dropdown a {
      transition: all 0.3s ease;
      position: relative;
    }

    #profile-dropdown a::before {
      content: '';
      position: absolute;
      left: 0;
      bottom: 0;
      width: 0;
      height: 2px;
      background: var(--primary);
      transition: width 0.3s ease;
    }

    #profile-dropdown a:hover::before {
      width: 100%;
    }

    /* Modal close button hover */
    .modal-action .btn {
      transition: all 0.3s ease;
    }

    .modal-action .btn:hover {
      transform: scale(1.05);
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }

    /* Channel icon hover effect */
    .channel-icon {
      transition: all 0.3s ease;
    }

    .channel-icon:hover {
      transform: scale(1.1);
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }

    /* Video title hover effect */
    .font-semibold {
      transition: all 0.3s ease;
    }

    .font-semibold:hover {
      color: var(--primary);
      transform: translateX(5px);
    }

    /* Profile avatar hover effect */
    .avatar {
      transition: all 0.3s ease;
    }

    .avatar:hover {
      transform: scale(1.1);
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    }

    /* Search button hover effect */
    #search-button {
      transition: all 0.3s ease;
    }

    #search-button:hover {
      transform: scale(1.1);
      background: var(--primary);
      color: white;
    }

    /* Video thumbnail hover effect */
    .group:hover img {
      transform: scale(1.05);
    }

    .group:hover span {
      transform: scale(1.1);
      background: var(--primary);
    }

    /* Staggered animation for video cards */
    .video-card {
      opacity: 0;
    }

    .video-card:nth-child(1) { animation-delay: 0.1s; }
    .video-card:nth-child(2) { animation-delay: 0.2s; }
    .video-card:nth-child(3) { animation-delay: 0.3s; }
    .video-card:nth-child(4) { animation-delay: 0.4s; }
    .video-card:nth-child(5) { animation-delay: 0.5s; }
    .video-card:nth-child(6) { animation-delay: 0.6s; }

    /* Islamic content specific animations */
    .video-card[data-category="islamic"] {
      position: relative;
      border: 2px solid transparent;
      background: linear-gradient(var(--card-bg), var(--card-bg)) padding-box,
                  linear-gradient(45deg, #4CAF50, #2196F3) border-box;
      border-radius: 12px;
      overflow: hidden;
    }

    .video-card[data-category="islamic"]:hover {
      animation: tumble 1s ease-in-out;
      transform-origin: center bottom;
    }

    .video-card[data-category="islamic"]:hover figure {
      transform: scale(1.05) rotate(2deg);
    }

    .video-card[data-category="islamic"]:hover .channel-icon {
      animation: tumble 1s ease-in-out;
    }

    .video-card[data-category="islamic"]:hover .font-semibold {
      color: #4CAF50;
      transform: translateX(10px);
    }

    .video-card[data-category="islamic"]::before {
      content: 'üïå';
      position: absolute;
      top: 10px;
      right: 10px;
      font-size: 1.5rem;
      opacity: 0;
      transition: opacity 0.3s ease;
      z-index: 1;
    }

    .video-card[data-category="islamic"]:hover::before {
      opacity: 1;
    }

    /* Islamic content decorative elements */
    .video-card[data-category="islamic"]::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M30 0c16.569 0 30 13.431 30 30 0 16.569-13.431 30-30 30C13.431 60 0 46.569 0 30 0 13.431 13.431 0 30 0zm0 5C16.193 5 5 16.193 5 30s11.193 25 25 25 25-11.193 25-25S43.807 5 30 5zm0 10c8.284 0 15 6.716 15 15s-6.716 15-15 15-15-6.716-15-15 6.716-15 15-15z' fill='%234CAF50' fill-opacity='0.1' fill-rule='evenodd'/%3E%3C/svg%3E");
      opacity: 0.5;
      pointer-events: none;
    }

    .video-card[data-category="islamic"] figure {
      position: relative;
    }

    .video-card[data-category="islamic"] figure::before {
      content: '‚ò™Ô∏è';
      position: absolute;
      top: 10px;
      left: 10px;
      font-size: 1.5rem;
      z-index: 2;
      opacity: 0.8;
      text-shadow: 0 2px 4px rgba(0,0,0,0.3);
    }

    .video-card[data-category="islamic"] figure::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(45deg, rgba(76, 175, 80, 0.1), rgba(33, 150, 243, 0.1));
      opacity: 0;
      transition: opacity 0.3s ease;
    }

    .video-card[data-category="islamic"]:hover figure::after {
      opacity: 1;
    }

    .video-card[data-category="islamic"] .channel-icon {
      border: 2px solid #4CAF50;
      padding: 2px;
    }

    .video-card[data-category="islamic"] .font-semibold {
      position: relative;
      padding-left: 20px;
    }

    .video-card[data-category="islamic"] .font-semibold::before {
      content: 'üïå';
      position: absolute;
      left: 0;
      top: 50%;
      transform: translateY(-50%);
      font-size: 1rem;
      opacity: 0.7;
    }

    /* Enhanced Animations */
    @keyframes floatHeader {
      0% { transform: translateY(0); }
      50% { transform: translateY(-5px); }
      100% { transform: translateY(0); }
    }

    @keyframes pulseGlow {
      0% { box-shadow: 0 0 5px rgba(255, 0, 0, 0.5); }
      50% { box-shadow: 0 0 20px rgba(255, 0, 0, 0.8); }
      100% { box-shadow: 0 0 5px rgba(255, 0, 0, 0.5); }
    }

    @keyframes shimmer {
      0% { background-position: -200% 0; }
      100% { background-position: 200% 0; }
    }

    @keyframes bounceIn {
      0% { transform: scale(0.3); opacity: 0; }
      50% { transform: scale(1.05); opacity: 0.8; }
      70% { transform: scale(0.9); opacity: 0.9; }
      100% { transform: scale(1); opacity: 1; }
    }

    /* Header Animations */
    .navbar {
      animation: floatHeader 3s ease-in-out infinite;
    }

    .navbar .btn-ghost {
      position: relative;
      overflow: hidden;
    }

    .navbar .btn-ghost::after {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(
        90deg,
        transparent,
        rgba(255, 255, 255, 0.2),
        transparent
      );
      animation: shimmer 2s infinite;
    }

    /* PH Tube Logo Animation */
    .text-red-600 {
      animation: pulseGlow 2s infinite;
    }

    /* Search Bar Animation */
    .join-item {
      transition: all 0.3s ease;
    }

    .join-item:focus-within {
      transform: scale(1.02);
      box-shadow: 0 0 15px rgba(0, 0, 0, 0.1);
    }

    /* Category Buttons Animation */
    .btn[data-category] {
      position: relative;
      overflow: hidden;
    }

    .btn[data-category]::before {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 0;
      height: 0;
      background: rgba(255, 255, 255, 0.2);
      border-radius: 50%;
      transform: translate(-50%, -50%);
      transition: width 0.6s ease, height 0.6s ease;
    }

    .btn[data-category]:hover::before {
      width: 300px;
      height: 300px;
    }

    /* Video Card Enhanced Animations */
    .video-card {
      animation: bounceIn 0.6s ease-out forwards;
      opacity: 0;
    }

    .video-card:hover .channel-icon {
      animation: bounceIn 0.5s ease-out;
    }

    .video-card:hover figure img {
      transform: scale(1.1) rotate(2deg);
    }

    /* Profile Section Animations */
    .avatar {
      transition: all 0.3s ease;
    }

    .avatar:hover {
      transform: scale(1.1) rotate(5deg);
    }

    /* Modal Animation Enhancement */
    .modal-box {
      animation: bounceIn 0.5s ease-out;
    }

    /* Loading Animation for Video Thumbnails */
    .video-card figure {
      position: relative;
      overflow: hidden;
    }

    .video-card figure::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 50%;
      height: 100%;
      background: linear-gradient(
        90deg,
        transparent,
        rgba(255, 255, 255, 0.2),
        transparent
      );
      animation: shimmer 2s infinite;
    }

    /* Staggered Animation for Video Grid */
    .video-card:nth-child(1) { animation-delay: 0.1s; }
    .video-card:nth-child(2) { animation-delay: 0.2s; }
    .video-card:nth-child(3) { animation-delay: 0.3s; }
    .video-card:nth-child(4) { animation-delay: 0.4s; }
    .video-card:nth-child(5) { animation-delay: 0.5s; }
    .video-card:nth-child(6) { animation-delay: 0.6s; }
    .video-card:nth-child(7) { animation-delay: 0.7s; }
    .video-card:nth-child(8) { animation-delay: 0.8s; }
    .video-card:nth-child(9) { animation-delay: 0.9s; }
    .video-card:nth-child(10) { animation-delay: 1.0s; }

    /* Search Button Animation */
    #search-button {
      transition: all 0.3s ease;
    }

    #search-button:hover {
      transform: scale(1.1) rotate(5deg);
      background: var(--primary);
      color: white;
    }

    /* Profile Dropdown Animation */
    #profile-dropdown {
      animation: bounceIn 0.3s ease-out;
    }

    #profile-dropdown a {
      transition: all 0.3s ease;
    }

    #profile-dropdown a:hover {
      transform: translateX(10px);
      background: rgba(0, 0, 0, 0.1);
    }

    /* Updated Search Bar Styles */
    .join {
      position: relative;
      transition: all 0.3s ease;
    }

    .join:focus-within {
      transform: scale(1.02);
      box-shadow: 0 0 15px rgba(0, 0, 0, 0.1);
    }

    .join-item {
      border: 1px solid var(--border-color, #e5e7eb);
      background: var(--base-200);
      height: 2.5rem;
    }

    .join-item:focus {
      outline: none;
      border-color: var(--primary);
      box-shadow: 0 0 0 2px var(--primary-focus);
    }

    #search-button {
      padding: 0 1rem;
      border-left: none;
      transition: all 0.3s ease;
      min-height: 2.5rem;
    }

    #search-button:hover {
      background: var(--base-300);
      transform: scale(1.05);
    }

    #search-input {
      padding-left: 1rem;
      font-size: 1rem;
      height: 2.5rem;
    }

    /* Responsive adjustments */
    @media (max-width: 1024px) {
      .join {
        max-width: 100%;
      }
    }

    @media (max-width: 768px) {
      .navbar {
        padding: 0.5rem;
      }
      
      .join {
        width: 100%;
      }
      
      #search-input {
        font-size: 0.875rem;
      }
      
      .navbar .pl-4 {
        padding-left: 0.5rem;
      }
      
      .navbar .pr-4 {
        padding-right: 0.5rem;
      }

      #browser-timer {
        font-size: 0.6rem;
      }
    }

    @media (max-width: 640px) {
      .join {
        width: 100%;
      }
    }

    /* Timer Styles */
    #browser-timer {
      font-size: 0.75rem;
    }

    /* Add styles for the new left sidebar */
    .left-sidebar {
      position: fixed;
      left: 0;
      top: 60px; /* Adjust based on header height */
      bottom: 0;
      width: 70px; /* Narrow width */
      background: var(--base-100);
      padding: 1rem 0.5rem;
      box-shadow: 2px 0 10px rgba(0, 0, 0, 0.1);
      z-index: 30;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 1rem;
      overflow-y: auto; /* Add scrolling if content exceeds height */
    }

    .left-sidebar a {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 0.25rem;
      color: var(--base-content);
      text-decoration: none;
      font-size: 0.75rem;
      transition: opacity 0.3s ease;
    }

    .left-sidebar a:hover {
      opacity: 0.7;
    }

    .left-sidebar .icon-placeholder {
        width: 24px;
        height: 24px;
        background: var(--base-300);
        border-radius: 4px;
    }

    .left-sidebar img {
      width: 24px;
      height: 24px;
    }

    /* Add styles for active sidebar item on click */
    .left-sidebar a.active {
      background-color: var(--base-300); /* Or another distinct color */
      color: var(--primary); /* Highlight text color */
      border-left: 3px solid var(--primary); /* Add a left border */
      padding-left: calc(0.5rem - 3px); /* Adjust padding to keep alignment */
    }

    .left-sidebar a.active .icon-placeholder,
    .left-sidebar a.active img {
        filter: brightness(1.2); /* Make icons brighter when active */
    }

    /* Adjust main content to make space for the left sidebar */
    main.container {
      margin-left: 70px; /* Match left sidebar width */
    }

    /* Responsive adjustments for left sidebar and main content */
    @media (max-width: 768px) {
      .left-sidebar {
        width: 60px; /* Slightly narrower sidebar on small screens */
        padding: 0.5rem 0.25rem; /* Reduce padding */
        gap: 0.5rem; /* Reduce gap between items */
      }

      .left-sidebar span {
         font-size: 0.6rem; /* Smaller text in sidebar */
      }

      main.container {
        margin-left: 60px; /* Adjust main content margin */
      }

      .left-sidebar .icon-placeholder,
      .left-sidebar img {
        width: 20px; /* Smaller icons */
        height: 20px;
      }
    }

    /* Reminder Modal Styles */
    #reminder_modal {
      background: var(--base-300);
      padding: 1rem;
      border-radius: 0.5rem;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
      text-align: center;
    }

    #reminder-text {
      font-size: 1.2rem;
      font-weight: bold;
      margin-bottom: 1rem;
      color: var(--info);
      animation: fadeIn 1s ease-out;
    }

    #reminder-link-container {
      margin-top: 1rem;
    }

    #reminder-link {
      color: var(--primary);
      text-decoration: none;
      font-weight: bold;
      padding: 0.5rem 1rem;
      border-radius: 0.25rem;
      background: var(--base-200);
      transition: background 0.3s ease;
    }

    #reminder-link:hover {
      background: var(--base-300);
    }

    #audio-error {
      color: var(--error);
      font-weight: bold;
      margin-top: 0.5rem;
    }

    /* Hover effect for left sidebar items */
    .left-sidebar a:hover {
      opacity: 0.7;
    }

    /* Active styles for left sidebar items */
    .left-sidebar a.active {
      background-color: var(--base-300);
      color: var(--primary);
      border-left: 3px solid var(--primary);
      padding-left: calc(0.5rem - 3px);
    }

    .left-sidebar a.active .icon-placeholder,
    .left-sidebar a.active img {
      filter: brightness(1.2);
    }
  </style>
</head>
<body>
  <!-- Header -->
  <header class="navbar bg-base-100 shadow-lg fixed top-0 z-50">
    <div class="flex items-center">
      <a class="btn btn-ghost normal-case text-xl pl-4">
        <span class="text-red-600 font-bold">PH</span>Tube
      </a>
    </div>
    <!-- Centered Search Bar -->
    <div class="flex-1 flex justify-center px-4">
      <div class="join w-full max-w-xl">
        <input type="text" placeholder="Search videos..." class="input input-bordered join-item w-full input-sm rounded-l-full" id="search-input" />
        <button class="btn btn-sm join-item rounded-r-full bg-base-200 hover:bg-base-300" id="search-button">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
          </svg>
        </button>
      </div>
    </div>
    <div class="flex-none gap-2 items-center pr-4">
      <div class="flex items-center gap-2">
        <!-- Three-dot menu button -->
        <div class="relative">
          <button class="btn btn-ghost btn-circle" id="three-dot-button">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z" />
            </svg>
          </button>
          <!-- Three-dot Dropdown -->
          <div id="three-dot-dropdown" class="hidden absolute right-0 mt-2 w-48 bg-base-200 rounded-lg shadow-lg z-50">
            <ul class="py-2">
              <li><a href="#" class="block px-4 py-2 hover:bg-base-300">Create Studio</a></li>
              <li><a href="#" class="block px-4 py-2 hover:bg-base-300" onclick="openSettings()">Settings</a></li>
              <li><a href="#" class="block px-4 py-2 hover:bg-base-300">Help</a></li>
            </ul>
          </div>
        </div>
        <!-- Notification Button -->
        <div class="relative">
          <button class="btn btn-ghost btn-circle" id="notification-button">
            <div class="indicator">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9" />
              </svg>
              <span class="badge badge-xs badge-primary indicator-item">3</span>
            </div>
          </button>
          <!-- Notification Dropdown -->
          <div id="notification-dropdown" class="hidden absolute right-0 mt-2 w-80 bg-base-200 rounded-lg shadow-lg z-50">
            <div class="p-4 border-b border-base-300">
              <h3 class="font-semibold">Notifications</h3>
            </div>
            <div class="max-h-96 overflow-y-auto">
              <!-- Notification Items -->
              <div class="p-4 hover:bg-base-300 cursor-pointer transition-colors duration-200">
                <div class="flex gap-3">
                  <div class="w-10 h-10 rounded-full overflow-hidden">
                    <img src="https://ui-avatars.com/api/?name=Code+Pro&background=random" />
                  </div>
                  <div>
                    <p class="text-sm"><span class="font-semibold">Code Pro</span> uploaded a new video</p>
                    <p class="text-xs opacity-70">2 hours ago</p>
                  </div>
                </div>
              </div>
              <div class="p-4 hover:bg-base-300 cursor-pointer transition-colors duration-200">
                <div class="flex gap-3">
                  <div class="w-10 h-10 rounded-full overflow-hidden">
                    <img src="https://ui-avatars.com/api/?name=React+Master&background=random" />
                  </div>
                  <div>
                    <p class="text-sm"><span class="font-semibold">React Master</span> went live</p>
                    <p class="text-xs opacity-70">5 hours ago</p>
                  </div>
                </div>
              </div>
              <div class="p-4 hover:bg-base-300 cursor-pointer transition-colors duration-200">
                <div class="flex gap-3">
                  <div class="w-10 h-10 rounded-full overflow-hidden">
                    <img src="https://ui-avatars.com/api/?name=Islamic+Channel&background=random" />
                  </div>
                  <div>
                    <p class="text-sm"><span class="font-semibold">Islamic Channel</span> uploaded a new video</p>
                    <p class="text-xs opacity-70">1 day ago</p>
                  </div>
                </div>
              </div>
            </div>
            <div class="p-4 border-t border-base-300">
              <button class="btn btn-ghost btn-sm w-full">View all notifications</button>
            </div>
          </div>
        </div>
        <!-- Profile Icon and Timer -->
        <div class="flex flex-col items-center gap-1">
          <div class="avatar online cursor-pointer" id="profile-icon">
            <div class="w-10 rounded-full ring ring-primary ring-offset-base-100 ring-offset-2">
              <img src="https://ui-avatars.com/api/?name=Guest&background=random" id="profile-image" />
            </div>
          </div>
          <!-- Timer -->
          <div class="text-xs opacity-70" id="browser-timer">00:00</div>
        </div>
      </div>
    </div>
  </header>

  <!-- Add the new left sidebar -->
  <div class="left-sidebar">
    <a href="#" class="sidebar-item" data-category="all">
        <div class="icon-placeholder"></div>
        <span>Home</span>
    </a>
    <a href="#" class="sidebar-item" data-category="shorts">
        <div class="icon-placeholder"></div>
        <span>Shorts</span>
    </a>
    <a href="#" class="sidebar-item">
        <div class="icon-placeholder"></div>
        <span>Subscriptions</span>
    </a>
     <a href="#" class="sidebar-item">
        <div class="icon-placeholder"></div>
        <span>You</span>
    </a>

    <div class="divider"></div> <!-- Optional divider -->

    <a href="https://www.youtube.com" target="_blank" class="social-icon" title="YouTube">
      <img src="https://www.youtube.com/favicon.ico" alt="YouTube">
      <span>YouTube</span>
    </a>
    <a href="https://www.google.com" target="_blank" class="social-icon" title="Google">
      <img src="https://www.google.com/favicon.ico" alt="Google">
      <span>Google</span>
    </a>
    <a href="https://www.w3schools.com" target="_blank" class="social-icon" title="W3Schools">
      <img src="https://www.w3schools.com/favicon.ico" alt="W3Schools">
      <span>W3Schools</span>
    </a>
  </div>

  <!-- Login Modal -->
  <dialog id="login_modal" class="modal">
    <div class="modal-box w-11/12 max-w-md bg-base-200">
      <h3 class="font-bold text-lg mb-4">Sign in to PH Tube</h3>
      <div class="flex flex-col gap-4">
        <div id="g_id_onload"
             data-client_id="YOUR_GOOGLE_CLIENT_ID"
             data-callback="handleCredentialResponse">
        </div>
        <div class="g_id_signin w-full"
             data-type="standard"
             data-size="large"
             data-theme="outline"
             data-text="sign_in_with"
             data-shape="rectangular"
             data-logo_alignment="left"
             data-width="100%">
        </div>
        <div class="divider">OR</div>
        <button class="btn btn-outline" onclick="signInWithGoogle()">
          <img src="https://www.google.com/favicon.ico" class="w-5 h-5 mr-2" />
          Sign in with Google
        </button>
      </div>
      <div class="modal-action">
        <form method="dialog">
          <button class="btn">Close</button>
        </form>
      </div>
    </div>
    <form method="dialog" class="modal-backdrop">
      <button>close</button>
    </form>
  </dialog>

  <!-- Profile Dropdown -->
  <div id="profile-dropdown" class="hidden absolute right-4 top-16 w-48 bg-base-200 rounded-lg shadow-lg z-50">
    <div class="p-4 border-b border-base-300">
      <div class="flex items-center gap-3">
        <div class="avatar">
          <div class="w-10 rounded-full">
            <img src="" id="dropdown-profile-image" />
          </div>
        </div>
        <div>
          <p class="font-semibold" id="dropdown-name">Guest</p>
          <p class="text-sm opacity-70" id="dropdown-email"></p>
        </div>
      </div>
    </div>
    <ul class="py-2">
      <li><a href="#" class="block px-4 py-2 hover:bg-base-300">Your Channel</a></li>
      <li><a href="#" class="block px-4 py-2 hover:bg-base-300" onclick="openSettings()">Settings</a></li>
      <li><a href="#" class="block px-4 py-2 hover:bg-base-300">Help</a></li>
      <li class="border-t border-base-300 mt-2"><a href="#" class="block px-4 py-2 hover:bg-base-300 text-error" onclick="signOut()">Sign Out</a></li>
    </ul>
  </div>

  <!-- Settings Modal -->
  <dialog id="settings_modal" class="modal">
    <div class="modal-box w-11/12 max-w-2xl bg-base-200">
      <h3 class="font-bold text-lg mb-4">Settings</h3>
      
      <!-- Theme Settings -->
      <div class="mb-6">
        <h4 class="font-semibold mb-2">Theme</h4>
        <div class="flex gap-4">
          <button class="btn btn-outline" onclick="setTheme('light')">
            <span class="mr-2">‚òÄÔ∏è</span> Light
          </button>
          <button class="btn btn-outline" onclick="setTheme('dark')">
            <span class="mr-2">üåô</span> Dark
          </button>
          <button class="btn btn-outline" onclick="setTheme('system')">
            <span class="mr-2">üíª</span> System
          </button>
        </div>
      </div>

      <!-- Video Quality Settings -->
      <div class="mb-6">
        <h4 class="font-semibold mb-2">Default Video Quality</h4>
        <select class="select select-bordered w-full max-w-xs">
          <option>Auto</option>
          <option>1080p</option>
          <option>720p</option>
          <option>480p</option>
          <option>360p</option>
        </select>
      </div>

      <!-- Notification Settings -->
      <div class="mb-6">
        <h4 class="font-semibold mb-2">Notifications</h4>
        <div class="space-y-2">
          <label class="flex items-center gap-2">
            <input type="checkbox" class="toggle toggle-primary" checked />
            <span>New video notifications</span>
          </label>
          <label class="flex items-center gap-2">
            <input type="checkbox" class="toggle toggle-primary" checked />
            <span>Channel updates</span>
          </label>
          <label class="flex items-center gap-2">
            <input type="checkbox" class="toggle toggle-primary" />
            <span>Comments on your videos</span>
          </label>
        </div>
      </div>

      <!-- Privacy Settings -->
      <div class="mb-6">
        <h4 class="font-semibold mb-2">Privacy</h4>
        <div class="space-y-2">
          <label class="flex items-center gap-2">
            <input type="checkbox" class="toggle toggle-primary" checked />
            <span>Show your activity status</span>
          </label>
          <label class="flex items-center gap-2">
            <input type="checkbox" class="toggle toggle-primary" />
            <span>Show your watch history</span>
          </label>
        </div>
      </div>

      <!-- Language Settings -->
      <div class="mb-6">
        <h4 class="font-semibold mb-2">Language</h4>
        <select class="select select-bordered w-full max-w-xs">
          <option>English</option>
          <option>‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ</option>
          <option>ÿßŸÑÿπÿ±ÿ®Ÿäÿ©</option>
          <option>ÿßÿ±ÿØŸà</option>
        </select>
      </div>

      <div class="modal-action">
        <button class="btn btn-primary" onclick="saveSettings()">Save Changes</button>
        <form method="dialog">
          <button class="btn">Close</button>
        </form>
      </div>
    </div>
    <form method="dialog" class="modal-backdrop">
      <button>close</button>
    </form>
  </dialog>

  <!-- Main Content -->
  <main class="container mx-auto px-4 pt-20">
    <!-- Categories -->
    <div class="flex gap-4 overflow-x-auto py-4 mb-6">
      <button class="btn btn-ghost" data-category="all">All</button>
      <button class="btn btn-primary" data-category="tutorials">Programming</button>
      <button class="btn btn-ghost" data-category="mern">MERN Stack</button>
      <button class="btn btn-ghost" data-category="islamic">Islamic Content</button>
      <button class="btn btn-ghost" data-category="quran">Quran Recitation</button>
      <button class="btn btn-ghost" data-category="stories">Prophet Stories</button>
      <button class="btn btn-ghost" data-category="html">HTML</button>
      <button class="btn btn-ghost" data-category="css">CSS</button>
      <button class="btn btn-ghost" data-category="javascript">JavaScript</button>
      <button class="btn btn-ghost" data-category="react">React</button>
      <button class="btn btn-ghost" data-category="mongodb">MongoDB</button>
      <button class="btn btn-ghost" data-category="projects">Projects</button>
    </div>

    <!-- Video Grid -->
    <div id="video-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"></div>
  </main>

  <!-- Modal -->
  <dialog id="video_modal" class="modal">
    <div class="modal-box w-11/12 max-w-5xl bg-base-200">
      <div class="aspect-video w-full bg-black">
        <iframe id="video_player" class="w-full h-full" src="" frameborder="0" allowfullscreen></iframe>
      </div>
      <div class="mt-4">
        <h3 id="video_title" class="text-xl font-bold"></h3>
        <p id="video_views" class="text-sm opacity-70"></p>
        <p id="video_description" class="mt-2 text-sm"></p>
      </div>
      <div class="modal-action">
        <form method="dialog">
          <button class="btn">Close</button>
        </form>
      </div>
    </div>
    <form method="dialog" class="modal-backdrop">
      <button>close</button>
    </form>
  </dialog>

  <!-- Reminder Modal -->
  <dialog id="reminder_modal" class="modal">
    <div class="modal-box w-11/12 max-w-md bg-base-200">
      <h3 class="font-bold text-lg mb-4" id="reminder-title">Quranic Reminder</h3>
      <div id="reminder-text" class="text-sm mb-4 whitespace-pre-wrap"></div>
      <div id="reminder-link-container">
        <a id="reminder-link" href="#" target="_blank" class="text-primary hover:underline text-sm">Read more</a>
      </div>
      <div class="flex justify-center mt-4">
        <button id="next-reminder-btn" class="btn btn-sm btn-primary">
          Next Reminder <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 ml-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3" />
          </svg>
        </button>
      </div>
      <!-- Add external link below the next reminder button -->
      <div class="text-center mt-2">
        <a id="external-reminder-link" href="#" target="_blank" class="text-primary hover:underline text-sm">Read more from source</a>
      </div>
      <div class="modal-action">
        <form method="dialog">
          <button class="btn">Close</button>
        </form>
      </div>
    </div>
    <form method="dialog" class="modal-backdrop">
      <button>close</button>
    </form>
  </dialog>

  <script>
    // User state
    let currentUser = null;

    // Search functionality
    const searchInput = document.getElementById('search-input');
    const searchButton = document.getElementById('search-button');

    function performSearch() {
      const searchTerm = searchInput.value.toLowerCase().trim();
      if (!searchTerm) {
        renderVideos(currentCategory);
        return;
      }

      const filteredVideos = videoData.filter(video => 
        video.title.toLowerCase().includes(searchTerm) ||
        video.channel.toLowerCase().includes(searchTerm) ||
        video.description.toLowerCase().includes(searchTerm)
      );

      grid.innerHTML = "";
      filteredVideos.forEach((video, index) => {
        const card = document.createElement("div");
        card.className = "video-card bg-base-200 rounded-lg overflow-hidden cursor-pointer animate-fade-in";
        card.style.animationDelay = `${index * 0.1}s`;
        card.innerHTML = `
          <figure class="relative group">
            <img src="https://img.youtube.com/vi/${video.videoId}/maxresdefault.jpg" 
                 onerror="this.onerror=null; this.src='https://img.youtube.com/vi/${video.videoId}/hqdefault.jpg';"
                 class="w-full h-48 object-cover transition-transform duration-300 group-hover:scale-105" />
            <span class="absolute bottom-2 right-2 bg-black bg-opacity-80 text-white px-2 py-1 rounded text-sm transform transition-transform duration-300 group-hover:scale-110">‚ñ∂Ô∏è</span>
          </figure>
          <div class="p-4">
            <div class="flex gap-3">
              <div class="channel-icon w-10 h-10 rounded-full overflow-hidden transition-transform duration-300 hover:scale-110">
                <img src="https://ui-avatars.com/api/?name=${encodeURIComponent(video.channel)}&background=random" />
              </div>
              <div>
                <h3 class="font-semibold transition-colors duration-300 hover:text-primary">${video.title}</h3>
                <p class="text-sm opacity-70">${video.channel}</p>
                <p class="text-sm opacity-70">${video.views}</p>
              </div>
            </div>
          </div>
        `;
        card.addEventListener("click", () => {
          // Add video to watch history
          const videoId = video.videoId; // Get video ID from clicked video
          const existingIndex = watchHistory.findIndex(item => item.videoId === videoId);
          
          if (existingIndex !== -1) {
            // If video is already in history, remove it to add it again at the beginning
            watchHistory.splice(existingIndex, 1);
          }
          
          // Add video to the beginning of the history
          watchHistory.unshift(video);

          // Trim history to max size
          if (watchHistory.length > MAX_HISTORY_ITEMS) {
            watchHistory = watchHistory.slice(0, MAX_HISTORY_ITEMS);
          }

          // Optional: Update notification dropdown and count here or when dropdown is opened
          updateNotificationDropdown();

          videoTitle.textContent = video.title;
          videoViews.textContent = video.views;
          videoDescription.textContent = video.description;
          videoPlayer.src = `https://www.youtube.com/embed/${video.videoId}?autoplay=1`;
          modal.showModal();
        });
        grid.appendChild(card);
      });
    }

    // Search event listeners
    searchButton.addEventListener('click', performSearch);
    searchInput.addEventListener('keypress', (e) => {
      if (e.key === 'Enter') {
        performSearch();
      }
    });

    // Clear search when changing categories
    document.querySelectorAll('[data-category]').forEach(button => {
      button.addEventListener('click', () => {
        searchInput.value = '';
        // Add code to filter and render videos based on category
        const category = button.dataset.category;
        renderVideos(category);

        // Update active button style
        document.querySelectorAll('[data-category]').forEach(btn => btn.classList.remove('btn-primary'));
        button.classList.add('btn-primary');
        button.classList.remove('btn-ghost');
      });
    });

    // Profile icon click handler
    document.getElementById('profile-icon').addEventListener('click', () => {
      if (currentUser) {
        const dropdown = document.getElementById('profile-dropdown');
        dropdown.classList.toggle('hidden');
      } else {
        document.getElementById('login_modal').showModal();
      }
    });

    // Close dropdown when clicking outside
    document.addEventListener('click', (e) => {
      const dropdown = document.getElementById('profile-dropdown');
      const profileIcon = document.getElementById('profile-icon');
      if (!profileIcon.contains(e.target) && !dropdown.contains(e.target)) {
        dropdown.classList.add('hidden');
      }
    });

    // Handle Google Sign-In
    function handleCredentialResponse(response) {
      // Decode the credential response
      const responsePayload = jwt_decode(response.credential);
      
      // Update UI with user info
      currentUser = {
        name: responsePayload.name,
        email: responsePayload.email,
        picture: responsePayload.picture
      };

      updateProfileUI();
      document.getElementById('login_modal').close();
    }

    // Update profile UI
    function updateProfileUI() {
      if (currentUser) {
        document.getElementById('profile-image').src = currentUser.picture;
        document.getElementById('dropdown-profile-image').src = currentUser.picture;
        document.getElementById('dropdown-name').textContent = currentUser.name;
        document.getElementById('dropdown-email').textContent = currentUser.email;
      } else {
        document.getElementById('profile-image').src = 'https://ui-avatars.com/api/?name=Guest&background=random';
        document.getElementById('dropdown-profile-image').src = 'https://ui-avatars.com/api/?name=Guest&background=random';
        document.getElementById('dropdown-name').textContent = 'Guest';
        document.getElementById('dropdown-email').textContent = '';
      }
    }

    // Sign out function
    function signOut() {
      currentUser = null;
      updateProfileUI();
      document.getElementById('profile-dropdown').classList.add('hidden');
    }

    const modal = document.getElementById("video_modal");
    const videoPlayer = document.getElementById("video_player");
    const videoTitle = document.getElementById("video_title");
    const videoViews = document.getElementById("video_views");
    const videoDescription = document.getElementById("video_description");

    // Add category to each video
    const videoData = [
      {
        title: "MERN Stack Tutorials",
        channel: "MERN Stack Pro",
        views: "2.1M views ‚Ä¢ 1 week ago",
        description: "Build a complete MERN Stack application from scratch.",
        videoId: "dGcsHMXbSOA",
        category: "mern"
      },
      {
        title: "Islamic History Video Playlists",
        channel: "Islamic History Channel",
        views: "2.5M views ‚Ä¢ 1 week ago",
        description: "A comprehensive animated series on early Islamic events.",
        videoId: "N8LhHkMeBxk",
        category: "islamic"
      },
      {
        title: "Surah Yasin Recitation (Short)",
        channel: "Quran Reciter",
        views: "3M views ‚Ä¢ 2 weeks ago",
        description: "Beautiful recitation of Surah Yasin.",
        videoId: "bx5EOcX3YcA",
        category: "quran",
        type: "short"
      },
      {
        title: "React.js for Beginners",
        channel: "Code Academy",
        views: "1.5M views ‚Ä¢ 2 months ago",
        description: "Learn React.js from scratch.",
        videoId: "Ke90Tje7VS0",
        category: "tutorials"
      },
      {
        title: "The Story of Prophet Yusuf (AS) (Short)",
        channel: "Islamic Stories",
        views: "2.9M views ‚Ä¢ 3 weeks ago",
        description: "Animated story of Prophet Yusuf.",
        videoId: "TlObLz0wJAk",
        category: "stories",
        type: "short"
      },
      {
        title: "Build REST APIs with Node.js",
        channel: "Backend Pro",
        views: "980K views ‚Ä¢ 5 days ago",
        description: "Learn how to build APIs using Node.js.",
        videoId: "Oe421EPjeBE",
        category: "tutorials"
      },
      {
        title: "Understanding Islamic Finance",
        channel: "Islamic Scholar",
        views: "1.1M views ‚Ä¢ 1 month ago",
        description: "An introduction to Islamic financial principles.",
        videoId: "t_HlWjKxzXM",
        category: "islamic"
      },
      {
        title: "MongoDB Complete Tutorial",
        channel: "Database Master",
        views: "670K views ‚Ä¢ 2 weeks ago",
        description: "Learn everything about MongoDB.",
        videoId: "ofme2o29ngU",
        category: "mern"
      },
      {
        title: "Importance of Salah",
        channel: "Islamic Education",
        views: "2.2M views ‚Ä¢ 3 weeks ago",
        description: "Why prayer is the pillar of Islam.",
        videoId: "fDDyE1JcpDA",
        category: "islamic"
      },
      {
        title: "Redux Crash Course",
        channel: "React Master",
        views: "1.8M views ‚Ä¢ 1 week ago",
        description: "Master Redux in one video.",
        videoId: "poQXNp9ItL4",
        category: "tutorials"
      },
      {
        title: "Islamic Architecture",
        channel: "Muslim Heritage",
        views: "900K views ‚Ä¢ 2 months ago",
        description: "Explore historic Islamic architecture.",
        videoId: "UMWZMl9KccU",
        category: "islamic"
      },
      {
        title: "Node.js Authentication",
        channel: "Auth Guru",
        views: "1.2M views ‚Ä¢ 4 days ago",
        description: "JWT and secure auth in Node.js.",
        videoId: "2jqok-WgelI",
        category: "mern"
      },
      {
        title: "Animated Prophet Stories",
        channel: "Islamic Kids",
        views: "1.9M views ‚Ä¢ 5 weeks ago",
        description: "Prophet stories for children.",
        videoId: "v0vU2gopABY",
        category: "stories"
      },
      {
        title: "Full Stack E-commerce App",
        channel: "Code Pro",
        views: "3.3M views ‚Ä¢ 3 weeks ago",
        description: "MERN stack project walkthrough.",
        videoId: "1NrHkjlWVhM",
        category: "mern"
      },
      {
        title: "Surah Ar-Rahman",
        channel: "Quran World",
        views: "2.7M views ‚Ä¢ 2 weeks ago",
        description: "Emotional recitation of Surah Ar-Rahman.",
        videoId: "9-6cY2rp5pk",
        category: "quran"
      },
      {
        title: "React Routing with React Router",
        channel: "Dev Simplified",
        views: "1.3M views ‚Ä¢ 1 month ago",
        description: "Guide to React Router v6.",
        videoId: "Law7wfdg_ls",
        category: "tutorials"
      },
      {
        title: "Hajj Explained",
        channel: "Islamic Guidance",
        views: "1.5M views ‚Ä¢ 4 weeks ago",
        description: "Step-by-step Hajj guide.",
        videoId: "HZ0L2DC3uhk",
        category: "islamic"
      },
      {
        title: "Learn HTML in 1 Hour",
        channel: "Web Dev Simplified",
        views: "5M views ‚Ä¢ 1 year ago",
        description: "Quick HTML crash course.",
        videoId: "UB1O30fR-EE",
        category: "tutorials"
      },
      {
        title: "Surah Al-Mulk Recitation",
        channel: "Quran Lovers",
        views: "2.9M views ‚Ä¢ 1 month ago",
        description: "Soothing recitation of Surah Al-Mulk.",
        videoId: "N5pK7E_0C6M",
        category: "quran"
      },
      {
        title: "Build 5 Projects with HTML, CSS, and JavaScript",
        channel: "freeCodeCamp.org",
        views: "4.5M views ‚Ä¢ 10 months ago",
        description: "Hands-on projects for beginners.",
        videoId: "3PHXrp3_SJE",
        category: "projects"
      },
      {
        title: "MERN Stack E-commerce Project | Full Tutorial",
        channel: "Dev ED",
        views: "1.8M views ‚Ä¢ 1 year ago",
        description: "Build a complete MERN e-commerce app.",
        videoId: "fu4khz_Zkvg",
        category: "mern"
      },
      {
        title: "Build a Social Media App - MERN Stack Full Course",
        channel: "JavaScript Mastery",
        views: "1.2M views ‚Ä¢ 8 months ago",
        description: "Full course on building a MERN social app.",
        videoId: "cvjwETM_Igw",
        category: "mern"
      },
      {
        title: "Build a Blog App with MERN Stack",
        channel: "The Net Ninja",
        views: "950K views ‚Ä¢ 1 year ago",
        description: "Learn to build a MERN blog application.",
        videoId: "jD7Fynz1ATg",
        category: "mern"
      },
      {
        title: "Responsive Website Design with HTML, CSS & JavaScript",
        channel: "Online Tutorials",
        views: "3.8M views ‚Ä¢ 1 year ago",
        description: "Create responsive websites.",
        videoId: "Tabl_Vg_wjw",
        category: "projects"
      },
      {
        title: "React Portfolio Website Tutorial",
        channel: "Bedimcode",
        views: "700K views ‚Ä¢ 7 months ago",
        description: "Build a personal portfolio using React.",
        videoId: "hQpcJMWlUX0",
        category: "projects"
      },
      {
        title: "Build a YouTube Clone with HTML, CSS & JavaScript",
        channel: "Code with Ania Kub√≥w",
        views: "1.2M views ‚Ä¢ 1 year ago",
        description: "Create a YouTube clone from scratch using vanilla JavaScript.",
        videoId: "Kkht2mwSL_I",
        category: "projects"
      },
      {
        title: "YouTube Clone with React & Tailwind CSS",
        channel: "Sonny Sangha",
        views: "850K views ‚Ä¢ 8 months ago",
        description: "Build a modern YouTube clone using React and Tailwind CSS.",
        videoId: "1NrHkjlWVhM",
        category: "projects"
      },
      {
        title: "Full Stack YouTube Clone - MERN Stack",
        channel: "Clever Programmer",
        views: "1.5M views ‚Ä¢ 1 year ago",
        description: "Build a complete YouTube clone with MERN stack including video upload.",
        videoId: "fu4khz_Zkvg",
        category: "mern"
      },
      {
        title: "YouTube Clone with Next.js & TypeScript",
        channel: "Code with Antonio",
        views: "650K views ‚Ä¢ 6 months ago",
        description: "Modern YouTube clone using Next.js 13 and TypeScript.",
        videoId: "cvjwETM_Igw",
        category: "projects"
      },
      {
        title: "YouTube Clone with Firebase & React",
        channel: "Web Dev Simplified",
        views: "950K views ‚Ä¢ 1 year ago",
        description: "Build a YouTube clone with React and Firebase backend.",
        videoId: "jD7Fynz1ATg",
        category: "projects"
      },
      {
        title: "YouTube Clone with Redux Toolkit",
        channel: "Dev Ed",
        views: "780K views ‚Ä¢ 9 months ago",
        description: "Learn Redux Toolkit by building a YouTube clone.",
        videoId: "Tabl_Vg_wjw",
        category: "projects"
      },
      {
        title: "YouTube Clone with Material UI",
        channel: "JavaScript Mastery",
        views: "1.1M views ‚Ä¢ 7 months ago",
        description: "Create a beautiful YouTube clone using Material UI components.",
        videoId: "hQpcJMWlUX0",
        category: "projects"
      },
      {
        title: "YouTube Clone with GraphQL & Apollo",
        channel: "Ben Awad",
        views: "520K views ‚Ä¢ 1 year ago",
        description: "Build a YouTube clone using GraphQL and Apollo Client.",
        videoId: "GrgjY2k4S2I",
        category: "projects"
      },
      {
        title: "YouTube Clone with Socket.io",
        channel: "Traversy Media",
        views: "890K views ‚Ä¢ 1 year ago",
        description: "Add real-time features to your YouTube clone with Socket.io.",
        videoId: "1Rs2ND1ryFg",
        category: "projects"
      },
      {
        title: "YouTube Clone with AWS S3",
        channel: "Academind",
        views: "720K views ‚Ä¢ 8 months ago",
        description: "Learn to handle video uploads with AWS S3 in your YouTube clone.",
        videoId: "ocMwl1FuPFA",
        category: "projects"
      },
      {
        title: "YouTube Clone with Authentication",
        channel: "Net Ninja",
        views: "1.3M views ‚Ä¢ 1 year ago",
        description: "Add user authentication to your YouTube clone.",
        videoId: "A6bN5yv_c3Y",
        category: "projects"
      },
      {
        title: "YouTube Clone with Comments System",
        channel: "Dev Ed",
        views: "680K views ‚Ä¢ 6 months ago",
        description: "Implement a real-time comments system in your YouTube clone.",
        videoId: "ExcRbA7s_2E",
        category: "projects"
      },
      {
        title: "YouTube Clone with Playlists",
        channel: "Code with Ania Kub√≥w",
        views: "550K views ‚Ä¢ 5 months ago",
        description: "Add playlist functionality to your YouTube clone.",
        videoId: "3PHXrp3_SJE",
        category: "projects"
      },
      {
        title: "YouTube Clone with Search & Filters",
        channel: "Web Dev Simplified",
        views: "920K views ‚Ä¢ 1 year ago",
        description: "Implement advanced search and filtering in your YouTube clone.",
        videoId: "fu4khz_Zkvg",
        category: "projects"
      },
      {
        title: "YouTube Clone with Responsive Design",
        channel: "Kevin Powell",
        views: "1.4M views ‚Ä¢ 1 year ago",
        description: "Make your YouTube clone fully responsive for all devices.",
        videoId: "cvjwETM_Igw",
        category: "projects"
      },
      {
        title: "Node JS Full Course 2025 | Microservices, Redis, CI CD, Docker, VPS Hosting | Hostinger ...",
        channel: "Sangam Mukherjee",
        views: "122K views ‚Ä¢ 5 months ago",
        description: "Learn Node.js and related technologies in this comprehensive course.",
        videoId: "_f7h6xQXiLA",
        category: "tutorials"
      },
      {
        title: "Master Next JS 14 Complete Basic to Advance",
        channel: "Geeky Shows",
        views: "98K views ‚Ä¢ 1 year ago",
        description: "Complete guide to Next.js 14",
        videoId: "yN8VXmncvRU",
        category: "tutorials"
      },
      {
        title: "CSS Tutorial ‚Äì Full Course for Beginners",
        channel: "freeCodeCamp.org",
        views: "2.4M views ‚Ä¢ 2 years ago",
        description: "Learn CSS from scratch.",
        videoId: "OXGznpKZ_sA",
        category: "tutorials"
      },
      {
        title: "React JS Full Course 2023 | Build an App and Master React in 13 Hours",
        channel: "Clever Programmer",
        views: "3.1M views ‚Ä¢ 1 year ago",
        description: "Master React by building a real app.",
        videoId: "A6bN5yv_c3Y",
        category: "tutorials"
      }
    ];

    // Add a watch history array
    let watchHistory = [];
    const MAX_HISTORY_ITEMS = 10; // Limit the history to the last 10 videos

    const grid = document.getElementById("video-grid");
    let currentCategory = "tutorials";

    function renderVideos(category = "tutorials") {
      grid.innerHTML = "";
      let filteredVideos = category === "all"
        ? videoData
        : videoData.filter(video => video.category === category || (category === "tutorials" && ["html", "css", "javascript", "react", "mongodb"].includes(video.category)));

      // Sort videos to show programming content first
      if (category === "all") {
        filteredVideos.sort((a, b) => {
          const programmingCategories = ['tutorials', 'mern'];
          const aIsProgramming = programmingCategories.includes(a.category);
          const bIsProgramming = programmingCategories.includes(b.category);

          if (aIsProgramming && !bIsProgramming) return -1;
          if (!aIsProgramming && bIsProgramming) return 1;
          return 0;
        });
      }

      filteredVideos.forEach((video, index) => {
        const card = document.createElement("div");
        card.className = "video-card bg-base-200 rounded-lg overflow-hidden cursor-pointer animate-fade-in";
        card.setAttribute('data-category', video.category);
        card.style.animationDelay = `${index * 0.1}s`;
        card.innerHTML = `
          <figure class="relative group">
            <img src="https://img.youtube.com/vi/${video.videoId}/maxresdefault.jpg" 
                 onerror="this.onerror=null; this.src='https://img.youtube.com/vi/${video.videoId}/hqdefault.jpg';"
                 class="w-full h-48 object-cover transition-transform duration-300 group-hover:scale-105" />
            <span class="absolute bottom-2 right-2 bg-black bg-opacity-80 text-white px-2 py-1 rounded text-sm transform transition-transform duration-300 group-hover:scale-110">‚ñ∂Ô∏è</span>
          </figure>
          <div class="p-4">
            <div class="flex gap-3">
              <div class="channel-icon w-10 h-10 rounded-full overflow-hidden transition-transform duration-300 hover:scale-110">
                <img src="https://ui-avatars.com/api/?name=${encodeURIComponent(video.channel)}&background=random" />
              </div>
              <div>
                <h3 class="font-semibold transition-colors duration-300 hover:text-primary">${video.title}</h3>
                <p class="text-sm opacity-70">${video.channel}</p>
                <p class="text-sm opacity-70">${video.views}</p>
              </div>
            </div>
          </div>
        `;
        card.addEventListener("click", () => {
          // Add video to watch history
          const videoId = video.videoId; // Get video ID from clicked video
          const existingIndex = watchHistory.findIndex(item => item.videoId === videoId);
          
          if (existingIndex !== -1) {
            // If video is already in history, remove it to add it again at the beginning
            watchHistory.splice(existingIndex, 1);
          }
          
          // Add video to the beginning of the history
          watchHistory.unshift(video);

          // Trim history to max size
          if (watchHistory.length > MAX_HISTORY_ITEMS) {
            watchHistory = watchHistory.slice(0, MAX_HISTORY_ITEMS);
          }

          // Optional: Update notification dropdown and count here or when dropdown is opened
          updateNotificationDropdown();

          videoTitle.textContent = video.title;
          videoViews.textContent = video.views;
          videoDescription.textContent = video.description;
          videoPlayer.src = `https://www.youtube.com/embed/${video.videoId}?autoplay=1`;
          modal.showModal();
        });
        grid.appendChild(card);
      });
    }

    // Create a new function to render a specific array of videos
    function renderVideosFiltered(videosToRender) {
      grid.innerHTML = ""; // Clear existing videos
      videosToRender.forEach((video, index) => {
        const card = document.createElement("div");
        // Use existing card structure and event listener
        card.className = "video-card bg-base-200 rounded-lg overflow-hidden cursor-pointer animate-fade-in";
        card.setAttribute('data-category', video.category); // Keep data-category for styling if needed
        card.style.animationDelay = `${index * 0.1}s`;
        card.innerHTML = `
          <figure class="relative group">
            <img src="https://img.youtube.com/vi/${video.videoId}/maxresdefault.jpg" 
                 onerror="this.onerror=null; this.src='https://img.youtube.com/vi/${video.videoId}/hqdefault.jpg';"
                 class="w-full h-48 object-cover transition-transform duration-300 group-hover:scale-105" />
            <span class="absolute bottom-2 right-2 bg-black bg-opacity-80 text-white px-2 py-1 rounded text-sm transform transition-transform duration-300 group-hover:scale-110">‚ñ∂Ô∏è</span>
          </figure>
          <div class="p-4">
            <div class="flex gap-3">
              <div class="channel-icon w-10 h-10 rounded-full overflow-hidden transition-transform duration-300 hover:scale-110">
                <img src="https://ui-avatars.com/api/?name=${encodeURIComponent(video.channel)}&background=random" />
              </div>
              <div>
                <h3 class="font-semibold transition-colors duration-300 hover:text-primary">${video.title}</h3>
                <p class="text-sm opacity-70">${video.channel}</p>
                <p class="text-sm opacity-70">${video.views}</p>
              </div>
            </div>
          </div>
        `;
        card.addEventListener("click", () => {
           // Add video to watch history (for filtered view)
          const videoId = video.videoId; // Get video ID from clicked video
          const existingIndex = watchHistory.findIndex(item => item.videoId === videoId);
          
          if (existingIndex !== -1) {
            // If video is already in history, remove it to add it again at the beginning
            watchHistory.splice(existingIndex, 1);
          }
          
          // Add video to the beginning of the history
          watchHistory.unshift(video);

          // Trim history to max size
          if (watchHistory.length > MAX_HISTORY_ITEMS) {
            watchHistory = watchHistory.slice(0, MAX_HISTORY_ITEMS);
          }

           // Optional: Update notification dropdown and count here or when dropdown is opened
          updateNotificationDropdown();

          videoTitle.textContent = video.title;
          videoViews.textContent = video.views;
          videoDescription.textContent = video.description;
          videoPlayer.src = `https://www.youtube.com/embed/${video.videoId}?autoplay=1`;
          modal.showModal();
        });
        grid.appendChild(card);
      });
    }

    // Initial render with programming content
    renderVideos('tutorials');

    modal.addEventListener("close", () => {
      videoPlayer.src = "";
    });

    // Settings functions
    function openSettings() {
      document.getElementById('settings_modal').showModal();
      document.getElementById('profile-dropdown').classList.add('hidden');
    }

    function setTheme(theme) {
      if (theme === 'system') {
        const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
        document.documentElement.setAttribute('data-theme', prefersDark ? 'dark' : 'light');
      } else {
        document.documentElement.setAttribute('data-theme', theme);
      }
      localStorage.setItem('theme', theme);
    }

    function saveSettings() {
      // Get all settings values
      const videoQuality = document.querySelector('select').value;
      const notifications = {
        newVideos: document.querySelector('input[type="checkbox"]')[0].checked,
        channelUpdates: document.querySelector('input[type="checkbox"]')[1].checked,
        comments: document.querySelector('input[type="checkbox"]')[2].checked
      };
      const privacy = {
        activityStatus: document.querySelector('input[type="checkbox"]')[3].checked,
        watchHistory: document.querySelector('input[type="checkbox"]')[4].checked
      };
      const language = document.querySelectorAll('select')[1].value;

      // Save settings to localStorage
      const settings = {
        videoQuality,
        notifications,
        privacy,
        language
      };
      localStorage.setItem('userSettings', JSON.stringify(settings));

      // Show success message
      const toast = document.createElement('div');
      toast.className = 'toast toast-top toast-end';
      toast.innerHTML = `
        <div class="alert alert-success">
          <span>Settings saved successfully!</span>
        </div>
      `;
      document.body.appendChild(toast);
      setTimeout(() => toast.remove(), 3000);

      // Close modal
      document.getElementById('settings_modal').close();
    }

    // Load saved settings
    function loadSettings() {
      const savedSettings = localStorage.getItem('userSettings');
      if (savedSettings) {
        const settings = JSON.parse(savedSettings);
        // Apply saved settings
        document.querySelector('select').value = settings.videoQuality;
        document.querySelectorAll('input[type="checkbox"]')[0].checked = settings.notifications.newVideos;
        document.querySelectorAll('input[type="checkbox"]')[1].checked = settings.notifications.channelUpdates;
        document.querySelectorAll('input[type="checkbox"]')[2].checked = settings.notifications.comments;
        document.querySelectorAll('input[type="checkbox"]')[3].checked = settings.privacy.activityStatus;
        document.querySelectorAll('input[type="checkbox"]')[4].checked = settings.privacy.watchHistory;
        document.querySelectorAll('select')[1].value = settings.language;
      }
    }

    // Load settings when page loads
    document.addEventListener('DOMContentLoaded', loadSettings);

    // Add notification button functionality
    const notificationButton = document.getElementById('notification-button');
    const notificationDropdown = document.getElementById('notification-dropdown');
    const notificationBadge = notificationButton.querySelector('.indicator-item');
    const notificationContent = notificationDropdown.querySelector('.max-h-96');

    // Function to update the notification dropdown content with watch history
    function updateNotificationDropdown() {
        notificationContent.innerHTML = ''; // Clear existing content

        if (watchHistory.length === 0) {
            notificationContent.innerHTML = '<div class="p-4 text-sm opacity-70">No watch history yet.</div>';
        } else {
            watchHistory.forEach(video => {
                const historyItem = document.createElement('div');
                historyItem.className = 'p-4 hover:bg-base-300 cursor-pointer transition-colors duration-200';
                historyItem.innerHTML = `
                    <div class="flex gap-3 items-center">
                        <div class="w-16 h-10 overflow-hidden rounded">
                            <img src="https://img.youtube.com/vi/${video.videoId}/default.jpg" class="w-full h-full object-cover" />
                        </div>
                        <div>
                            <p class="text-sm font-semibold">${video.title}</p>
                            <p class="text-xs opacity-70">${video.channel}</p>
                        </div>
                    </div>
                `;
                 // Add click listener to open the video modal from history
                historyItem.addEventListener('click', () => {
                    videoTitle.textContent = video.title;
                    videoViews.textContent = video.views;
                    videoDescription.textContent = video.description;
                    videoPlayer.src = `https://www.youtube.com/embed/${video.videoId}?autoplay=1`;
                    modal.showModal();
                     notificationDropdown.classList.add('hidden'); // Close dropdown after clicking
                });
                notificationContent.appendChild(historyItem);
            });
        }

        // Update badge count
        notificationBadge.textContent = watchHistory.length;
        if (watchHistory.length === 0) {
            notificationBadge.classList.add('hidden');
        } else {
             notificationBadge.classList.remove('hidden');
        }
    }

    notificationButton.addEventListener('click', (e) => {
      e.stopPropagation();
      updateNotificationDropdown(); // Update content when opening dropdown
      notificationDropdown.classList.toggle('hidden');
      threeDotDropdown.classList.add('hidden'); // Close three-dot dropdown
    });

    // Close notification dropdown when clicking outside
    document.addEventListener('click', (e) => {
      if (!notificationButton.contains(e.target) && !notificationDropdown.contains(e.target)) {
        notificationDropdown.classList.add('hidden');
      }
    });

    // Add notification animation
    notificationButton.addEventListener('mouseenter', () => {
      notificationButton.classList.add('animate-bounce');
    });

    notificationButton.addEventListener('mouseleave', () => {
      notificationButton.classList.remove('animate-bounce');
    });

    // Add three-dot button functionality
    const threeDotButton = document.getElementById('three-dot-button');
    const threeDotDropdown = document.getElementById('three-dot-dropdown');

    threeDotButton.addEventListener('click', (e) => {
      e.stopPropagation();
      threeDotDropdown.classList.toggle('hidden');
      notificationDropdown.classList.add('hidden'); // Close notification dropdown
    });

    // Close three-dot dropdown when clicking outside
    document.addEventListener('click', (e) => {
      if (!threeDotButton.contains(e.target) && !threeDotDropdown.contains(e.target)) {
        threeDotDropdown.classList.add('hidden');
      }
    });

    // Add timer functionality
    let seconds = 0;
    const timerDisplay = document.getElementById('browser-timer');

    function updateTimer() {
      seconds++;
      const minutes = Math.floor(seconds / 60);
      const remainingSeconds = seconds % 60;

      const formattedTime =
        `${minutes.toString().padStart(2, '0')}:${remainingSeconds.toString().padStart(2, '0')}`;

      timerDisplay.textContent = formattedTime;
    }

    // Start timer when the page loads
    document.addEventListener('DOMContentLoaded', () => {
      setInterval(updateTimer, 1000);
    });

    // Add Quranic reminder alert every 15 seconds, cycling through different reminders
    const reminders = [
      {
        text: "ŸàŸéŸÖŸéÿß ÿßŸÑŸíÿ≠ŸéŸäŸéÿßÿ©Ÿè ÿßŸÑÿØŸëŸèŸÜŸíŸäŸéÿß ÿ•ŸêŸÑŸéŸëÿß ŸÑŸéÿπŸêÿ®Ÿå ŸàŸéŸÑŸéŸáŸíŸàŸå €ñ ŸàŸéŸÑŸéŸÑÿØŸéŸëÿßÿ±Ÿè ÿßŸÑŸíÿ¢ÿÆŸêÿ±Ÿéÿ©Ÿè ÿÆŸéŸäŸíÿ±Ÿå ŸÑŸêŸëŸÑŸéŸëÿ∞ŸêŸäŸÜŸé ŸäŸéÿ™ŸéŸëŸÇŸèŸàŸÜŸé €ó ÿ£ŸéŸÅŸéŸÑŸéÿß ÿ™ŸéÿπŸíŸÇŸêŸÑŸèŸàŸÜŸé\n(Surah Al-An'am 6:32)",
        translation: "And the life of this world is nothing but play and amusement. But the home of the Hereafter is best for those who fear God. Will you not then understand?\n\nRemember the Hereafter, as this world is temporary.",
        audio: "https://example.com/audio/reminder1.mp3", // Replace with actual audio URL
        link: "https://quran.com/6/32" // Replace with actual link
      },
      {
        text: "ÿ•ŸêŸÜŸéŸëŸÖŸéÿß ÿ£ŸéŸÜÿ™ŸèŸÖ ÿ®ŸêÿßŸÑÿØŸèŸëŸÜŸíŸäŸéÿß ŸÖŸèÿ≥Ÿíÿ™ŸéÿπŸíŸÖŸéŸÑŸèŸàŸÜŸé ŸàŸéÿ®ŸêÿßŸÑŸíÿ¢ÿÆŸêÿ±Ÿéÿ©Ÿê ŸÖŸèÿÆŸéŸÑŸéŸëÿØŸèŸàŸÜŸé",
        translation: "You are only employed in this world, but you will live forever in the Hereafter.",
        audio: "https://example.com/audio/reminder2.mp3", // Replace with actual audio URL
        link: "https://sunnah.com/urn/637980" // Replace with actual link (example Hadith)
      },
      {
        text: "The Prophet (Ô∑∫) said: 'Take benefit of five before five: your youth before your old age, your health before your sickness, your wealth before your poverty, your free time before you are preoccupied, and your life before your death.' (Hadith)\n",
        translation: "Value your time and blessings before they are gone.",
        audio: "https://example.com/audio/reminder3.mp3", // Replace with actual audio URL
        link: "https://sunnah.com/urn/637980" // Replace with actual link (example Hadith)
      },
      {
        text: "ŸàŸéÿßŸÑŸíÿπŸéÿµŸíÿ±Ÿê ÿ•ŸêŸÜŸéŸë ÿßŸÑŸíÿ•ŸêŸÜÿ≥ŸéÿßŸÜŸé ŸÑŸéŸÅŸêŸä ÿÆŸèÿ≥Ÿíÿ±Ÿç\n(Surah Al-Asr 103:1-2)",
        translation: "By time, indeed, mankind is in loss.",
        audio: "https://example.com/audio/reminder4.mp3", // Replace with actual audio URL
        link: "https://quran.com/103" // Replace with actual link
      },
      {
        text: "The Prophet (Ô∑∫) said: 'There are two blessings which many people lose: (They are) Health and free time for doing good.' (Bukhari)",
        translation: "Use your health and time wisely.",
        audio: "https://example.com/audio/reminder5.mp3", // Replace with actual audio URL
        link: "https://sunnah.com/bukhari/81/6" // Replace with actual link (example Hadith)
      },
      // Added more reminders
      {
        text: "ŸÇŸèŸÑŸí ŸáŸéŸÑŸí ŸäŸéÿ≥Ÿíÿ™ŸéŸàŸêŸä ÿßŸÑŸéŸëÿ∞ŸêŸäŸÜŸé ŸäŸéÿπŸíŸÑŸéŸÖŸèŸàŸÜŸé ŸàŸéÿßŸÑŸéŸëÿ∞ŸêŸäŸÜŸé ŸÑŸéÿß ŸäŸéÿπŸíŸÑŸéŸÖŸèŸàŸÜŸé €ó ÿ•ŸêŸÜŸéŸëŸÖŸéÿß ŸäŸéÿ™Ÿéÿ∞ŸéŸÉŸéŸëÿ±Ÿè ÿ£ŸèŸàŸÑŸèŸà ÿßŸÑŸíÿ£ŸéŸÑŸíÿ®Ÿéÿßÿ®Ÿê\n(Surah Az-Zumar 39:9)",
        translation: "Say, \"Are those who know equal to those who do not know?\" Only they will remember [who are] possessed of understanding.\n\nSeek knowledge, for it elevates you.",
        audio: "https://example.com/audio/reminder6.mp3", // Placeholder audio
        link: "https://quran.com/39/9" // Placeholder link
      },
      {
        text: "The Messenger of Allah (Ô∑∫) said: \"Indeed, gentleness is not in anything except that it adorns it, and it is not removed from anything except that it mars it.\" (Muslim)",
        translation: "Be kind and gentle in all your dealings.",
        audio: "https://example.com/audio/reminder7.mp3", // Placeholder audio
        link: "https://sunnah.com/muslim/45/128" // Placeholder link
      },
      {
        text: "ŸäŸéÿß ÿ£ŸéŸäŸèŸëŸáŸéÿß ÿßŸÑŸéŸëÿ∞ŸêŸäŸÜŸé ÿ¢ŸÖŸéŸÜŸèŸàÿß ÿßÿ≥Ÿíÿ™ŸéÿπŸêŸäŸÜŸèŸàÿß ÿ®ŸêÿßŸÑÿµŸéŸëÿ®Ÿíÿ±Ÿê ŸàŸéÿßŸÑÿµŸéŸëŸÑŸéÿßÿ©Ÿê €ö ÿ•ŸêŸÜŸéŸë ÿßŸÑŸÑŸéŸëŸáŸé ŸÖŸéÿπŸé ÿßŸÑÿµŸéŸëÿßÿ®Ÿêÿ±ŸêŸäŸÜŸé\n(Surah Al-Baqarah 2:153)",
        translation: "O you who have believed, seek help through patience and prayer. Indeed, Allah is with the patient.\n\nBe patient and seek strength in prayer.",
        audio: "https://example.com/audio/reminder8.mp3", // Placeholder audio
        link: "https://quran.com/2/153" // Placeholder link
      },
      {
        text: "The Messenger of Allah (Ô∑∫) said: \"Truthfulness leads to righteousness, and righteousness leads to Paradise.\" (Bukhari)",
        translation: "Always be truthful and honest.",
        audio: "https://example.com/audio/reminder9.mp3", // Placeholder audio
        link: "https://sunnah.com/bukhari/78/48" // Placeholder link
      }
    ];
    let reminderIndex = 0;
    const reminderModal = document.getElementById('reminder_modal');
    const reminderTextElement = document.getElementById('reminder-text');
    const reminderLinkElement = document.getElementById('reminder-link');
    const reminderTitleElement = document.getElementById('reminder-title');
    const externalReminderLink = document.getElementById('external-reminder-link'); // Get the new link element

    setInterval(() => {
      const r = reminders[reminderIndex];
      // Update modal content
      reminderTitleElement.textContent = "Reminder"; // Generic title or use r.text.split('\n')[0] if preferred
      reminderTextElement.textContent = `${r.text}\n\n${r.translation}`;
      // Update the external link href
      externalReminderLink.href = r.link;

      // Play audio
      if (r.audio) {
        const audio = new Audio(r.audio);
        audio.play().catch(e => console.error("Error playing audio:", e)); // Add catch for potential errors
      }

      // Show modal
      reminderModal.showModal();

      reminderIndex = (reminderIndex + 1) % reminders.length;
    }, 15000); // Changed interval to 15 seconds

    // Add event listener to close reminder modal when clicking the close button within the modal-action div
    reminderModal.querySelector('.modal-action button').addEventListener('click', () => {
      reminderModal.close();
    });

    // Add event listener to close reminder modal when clicking the backdrop
    reminderModal.querySelector('.modal-backdrop button').addEventListener('click', () => {
      reminderModal.close();
    });

    // Modify the 'Read more' link to show the next reminder
    reminderLinkElement.addEventListener('click', (e) => {
      e.preventDefault(); // Prevent default link behavior

      // Move to the next reminder
      reminderIndex = (reminderIndex + 1) % reminders.length;
      const nextReminder = reminders[reminderIndex];

      // Update modal content with the next reminder
      reminderTitleElement.textContent = "Reminder"; // Keep title generic
      reminderTextElement.textContent = `${nextReminder.text}\n\n${nextReminder.translation}`;
      reminderLinkElement.href = nextReminder.link; // Update the external link as well

      // Play audio for the next reminder
      if (nextReminder.audio) {
        const audio = new Audio(nextReminder.audio);
        audio.play().catch(e => console.error("Error playing audio:", e));
      }
    });

    // Attach click listener to the new next reminder button
    const nextReminderBtn = document.getElementById('next-reminder-btn');
    nextReminderBtn.addEventListener('click', () => {
        // Move to the next reminder
        reminderIndex = (reminderIndex + 1) % reminders.length;
        const nextReminder = reminders[reminderIndex];

        // Update modal content with the next reminder
        reminderTitleElement.textContent = "Reminder"; // Keep title generic
        reminderTextElement.textContent = `${nextReminder.text}\n\n${nextReminder.translation}`;
        // Update the external link href when cycling through reminders
        externalReminderLink.href = nextReminder.link;

        // Play audio for the next reminder
        if (nextReminder.audio) {
          const audio = new Audio(nextReminder.audio);
          audio.play().catch(e => console.error("Error playing audio:", e));
        }
    });

    // Add click handlers for left sidebar links
    document.querySelectorAll('.left-sidebar a[data-category]').forEach(link => {
      link.addEventListener('click', (e) => {
        e.preventDefault(); // Prevent default link behavior
        const category = link.dataset.category;
        if (category === 'shorts') {
            // Filter for videos marked as type: "short"
            const shortsVideos = videoData.filter(video => video.type === 'short');
            renderVideosFiltered(shortsVideos); // Use a new function for filtered data
        } else {
            // For other categories (like 'all'), use the existing renderVideos logic
             renderVideos(category); // This will filter by the 'category' property
        }
        // Optional: Update active style for left sidebar links
        document.querySelectorAll('.left-sidebar a').forEach(navLink => navLink.classList.remove('active'));
        link.classList.add('active');
      });
    });
  </script>
</body>
</html>